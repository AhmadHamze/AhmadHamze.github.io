<!DOCTYPE html>

<html lang="en">
    <head>
        <!--Bootstrap styles link-->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        <!--jquery script link-->
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <!--Bootstrap script link-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
        <!--my css link-->
        <link href="styles-blog.css" rel="stylesheet">
        <link href="styles.css" rel="stylesheet">
        <!--Font awesome link-->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css" integrity="sha384-vp86vTRFVJgpjF9jiIGPEEqYqlDwgyBgEF109VFjmqGmIY/Y4HV4d3Gp2irVfcrp" crossorigin="anonymous">
        <title>BLOG | ESTIMATING PIE</title>
        <script src="components/header.js" type="text/javascript" defer></script>
        <script src="components/footer.js" type="text/javascript" defer></script>
    </head>
    <body>
        <header-component></header-component>
        <div id="page-container">
            <div id="content-wrap">
                <div id="blogContainer">
                    
                    <h1>Using the Monte-Carlo simulation to estimate the value of &#120529;</h1>
                    <p>
                        First of all let's talk briefly about what is a Monte-Carlo simulation.<br>
                        Simply put, it is a computational method that uses a large number of random samples to obtain a result. It is used in a
                        wide range of disciplines like mathematics, computer graphics and physical sciences.
                        In this blog, we will see how we can use this method to estimate the value of the mathematical constant &#120529;.
                    </p>

                    <!--If you put this header h3 inside the paragraph, css won't be able to identify the paragraph anymore!!!!-->
                    <h3>Concept</h3>
                    <p>
                        How can a large number of random samples be used to estimate &#120529;?<br>
                        Suppose we have a circle inscribed in a square, if we throw a pile of sand randomly on the square, some grains will end up
                        inside the circle and others will end up outside of it. This picture illustrates this concept,
                        the blue dots represent the grains that are inside the circle and the red ones represent the ones outside of it.<br>
                        <img src="images/mc-pie-best.png" alt="Card image cap"><br>
                        We can compute the proportion of grains that ended up inside the circle, this value equals the proportion of the circle in relation
                        to the square. In addition, the more grain of sands we throw onto the square the more accurate the estimation will be.<br>
                        But why is this true? The Monte-Carlo simulation is an example of the "Law of Large Numbers (LLN)", this is not the focus of this
                        blog, if you want to know more you can check this wikipedia article
                        <a href="https://en.wikipedia.org/wiki/Law_of_large_numbers" target="_blank" rel="noopener noreferrer">Law_of_large_numbers</a>.<br>
                        First, let's figure out what the proportion of the circle in relation to the square is.<br>
                        The area of the circle is &#120529; &#215; r <sup>2</sup>, where r <mo>=</mo> &frac12;, on the other hand the area of the square is simply 1.<br>
                        Therefore the proportion we're lookoing for is <sup>(&#120529; &frasl; 4)</sup> &frasl; <sub>1</sub> <mo>=</mo> (&#120529; &frasl; <sub>4</sub>).<br>
                        The second value we're looking for is the proportion of the grains inside the circle. Denote "success" the number of these grains and "trials"
                        the total number of grains thrown, the proportion will be <sup>success</sup> &frasl; <sub>trials</sub>.<br>
                        Now, let's write the equation &#120529; &frasl; <sub>4</sub> <mo>=</mo> <sup>success</sup> &frasl; <sub>trials</sub>, this is equivalent to
                        &#120529; <mo>=</mo> 4 &#215; <sup>success</sup> &frasl; <sub>trials</sub>.<br>
                        There you go! What we have to do now is to simulate a lot of "trials" and see how many are "success" i.e. inside the circle.

                    </p>
                    <h3>Code</h3>
                    <p>
                        We will be creating an array containing many couples of variables representing the coordinates of each point (grain of sand),
                        then we calculate whether the point is within the disk or not (the disk center is (&frac12;,&frac12;)).
                        Each point <mrow>(x,y)</mrow> is a bivariate uniform random variable on the unit square,
                        <mrow>
                            <mi>(x,y)</mi> &isin;
                            <mi>(0,1)<sup>2</sup></mi>
                        </mrow>
                        and the disk is defined by:<br>
                        <mrow class="formulas">
                            <mi>{(x,y) &isin; &#x211D; <sup>2</sup>;</mi>
                            <mi>(x - &frac12;)<sup>2</sup></mi>
                            <mo>+</mo>
                            <mi>(y - &frac12;)<sup>2</sup></mi> &le;
                            <mi>(&frac12;)<sup>2</sup>}</mi>
                        </mrow>
                    </p>
                    <pre>
                        <code>
                            import numpy as np

                            def monte_carlo_pi(trials):
                                b_uniform = ((np.random.uniform(0,1), np.random.uniform(0,1)) for _ in range(trials))
                                success = sum(((x - 0.5)**2 + (y - 0.5)**2 <= 0.25 for x,y in b_uniform))
                                return 4 * (success/trials)
                        </code>
                    </pre>
                    <p>
                        The code above defines a function "monte_carlo_pi" that takes the number of random trials to generate as argument.<br>
                        The "b_uniform" is a generator containing "trials" amonut of random points all within the square. The "success" variable is
                        simply the number of points situated inside the circle. Finally the estimated value of &#120529; is returned.  
                    </p>
                    <h3>Results</h3>
                    <p>
                        We expect the estimated value to be closer to &#120529; when using larger number of trials.<br>
                        Let's see the result when using only 100 trials.<br>
                        <img src="images/pie_100.png" alt="Card image cap"><br>
                        We got 3.0 as an estimation, this is quite far from the value that we're mostly used to (e.g. <mn>3.141592654<mn>), so let's
                        increase the number of trials to 100,000<br>
                        <img src="images/pie_100,000.png" alt="Card image cap"><br>
                        Now we're at 3.13976, much better. Finally, let's try 1,000,000 trials
                        <img src="images/pie_1,000,000.png" alt="Card image cap"><br>
                        The estimation got even closer, we're at 3.144164.
                    </p>
                    <h3>Conclusion</h3>
                    <p>
                        The Monte-Carlo method got a decent approximation of &#120529; when using 1,000,000 trials, so why not use even more trials?
                        How about 100 million? What about 100 billion?<br>
                        The theory states that the more trials we make the better the approximation, but obviously there is a limit when using computers.<br>
                        In addition, more trials will result in more computing time, in fact 100 million trials will give an estimation of <mn>3.14144576</mn>.<br>
                        A better result however, it took eight and a half minutes to complete.<br>
                        There are many ways to enhance the performance of our code, including using the Numba library and parallelization, this will be covered
                        in an other blog.
                    </p>
                </div>
            </div>
            <footer-component></footer-component>
        </div>
    </body>
</html>